<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hariom Milk</title>
    <link rel="stylesheet" href="/stylesheets/orderStatus.css">
    <style>
        /* Fullscreen Loader */
        #loader {
            position: fixed;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        /* Loader Animation */
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #ddd;
            border-top: 5px solid blue;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
    rel="stylesheet"
/>
</head>
<body>
    <main>
        <!-- Loader -->
    <div id="loader">
        <div class="spinner"></div>
    </div>
        <div class="text">Order Status</div>
        <div class="box">
            <div class="order">
                
                <div class="detail">
                    <div class="name"><%=order.name%></div>
                    <div class="quantity"><%=order.quantity%></div>
                    <div class="price">‚Çπ<%=order.buyingPrice%> </div>
                    
                </div>
                <div class="image">
                    <img src="<%=order.imagePath%>" alt="">
                </div>
            </div>
            <%if(order.orderStatus=="order placed"){%>
            <div class="orderStatus">
                <div class="track">
                        <div class="circle c1"></div>
                        <div class="line"></div>
                        <div class="circle c2"></div>
                        <div class="line"></div>
                        <div class="circle c3"></div>
                        <div class="line"></div>
                        <div class="circle c4"></div>
                    

                </div>
                <div class="detail1">
                    <div class="message first">Order Placed</div>
                    <div class="message">Order Packed</div>
                    <div class="message">Out for Delivery</div>
                    <div class="message fourth">Delivered</div>
                </div>
                
            </div>
            <img style="height: 6rem" src="<%=order.qrUrl%>" alt="">
            <strong><%=order.otp%></strong>
            <p style="text-align: center;padding: 2rem;">Do not share otp and Qr to anyone before receiving Order</p>


            <%if( new Date().getTime() - new Date(order.date).getTime() < 60000 ){%>
                <div class="cancel" id="<%=order._id%>">Cancel Order</div>
                <b class="note">Note : You can only cancel your order within one minute after order placed</b>
            <%}%>
            
            <% }else if(order.orderStatus=="delivered"){%>
                <div class="orderStatus">
                    <div class="track">
                            <div class="circle c1"></div>
                    </div>
                    <div class="detail1">
                        <div class="message first">Delivered</div>
                        
                    </div>
                    
                </div>
            <%}else{%>
                <div class="orderStatus">
                    <div class="track">
                            <div class="circle red"></div>
                    </div>
                    <div class="detail1">
                        <div class="message first">Order Cancelled</div>
                        
                    </div>
                    
                </div>
                <b>Note : Platform fee is non refundable üôè</b>
            <%}%>
            
        </div>
        
        <div class="fakeFooter"></div>
        <div class="footer">
            <div class="footerBox home" id="home">
                <img src="https://cdn-icons-png.flaticon.com/128/263/263115.png" id="home" alt="">
                <pid="home" >Home</p>
            </div>
            <div class="footerBox seller" id="order">
                <img src="https://cdn-icons-png.flaticon.com/128/11458/11458660.png" id="order" alt="">
                <p id="order">Order</p>
            </div>
            <div class="footerBox center cart" id="cart">
                <img src="https://cdn-icons-gif.flaticon.com/6416/6416376.gif" id="cart" alt="">
                <p id="cart">Cart</p>

            </div>
            <div class="footerBox feed" id="wallet">
                <img src="https://cdn-icons-png.flaticon.com/128/869/869118.png" id="wallet" alt="">
                <p id="wallet">Wallet</p>
            </div>
            <div class="footerBox more" id="more">
                <img src="https://cdn-icons-png.flaticon.com/128/9091/9091427.png" id="more" alt="">
                <p id="more">More</p>
            </div>
        </div>
    </main>
    <script src="/javaScripts/nav.js"></script>
    <script src="/javaScripts/loader.js"></script>
    <script src="/javaScripts/orderStatus.js"></script>
</body>
</html>